{"version":3,"file":"js/979.dbc22112.js","mappings":"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","sources":["webpack://admin/./src/views/Login.vue","webpack://admin/./src/views/Login.vue?240b"],"sourcesContent":["<template>\n    <section class=\"containerlogin\" style=\"\">\n        <!-- <header>\n            <h1>D'Bella Beauty</h1>\n        </header> -->\n        <section class=\"left_side\">\n            <span>\n                <img src=\"../assets/logo.png\" alt=\"\">\n                <!-- <h1>D'Bella Beauty</h1> -->\n            </span>\n            <form>\n                <h2>Autentificação</h2>\n                <!-- <label for=\"\">username:</label> -->\n                <input @change=\"validForm\" v-model=\"usernameValue\"\n                :style=\"{border: usernameValue.length < 4 && tryLogin ? '1px solid red' : 'none'}\"\n                type=\"text\" placeholder=\"username...\" autofocus>\n                <span class=\"pass\" \n                :style=\"{border: passwordValue.length < 4 && tryLogin ? '1px solid red' : 'none'}\"\n                >\n                    <!-- <Icon class=\"show-pass\" icon=\"mdi:password\" /> -->\n                    <input \n                    \n                    @change=\"validForm\" v-model=\"passwordValue\"  :type=\"inputType\" class=\"inputPassword\" placeholder=\"password...\" style=\"box-shadow: none;\">\n                    <Icon v-if=\"!showPass\" @click=\"toogleShowPassword\" class=\"show-pass\" icon=\"mdi:show\" />\n                    <Icon v-if=\"showPass\" @click=\"toogleShowPassword\" class=\"show-pass\" icon=\"mdi:hide\" />\n                    \n                </span>\n                <span>\n                    <span>\n                        <input type=\"checkbox\" name=\"lembrar\" \n                        :style=\"{border: usernameValue.length < 8 && tryLogin ? '1px solid red' : 'none'}\"\n                        id=\"lembrar\">\n                        <label style=\"cursor: pointer;\" for=\"lembrar\"> Lembrar username</label>\n                    </span>\n                    \n                </span>\n                <button id=\"btn-login\" type=\"button\" @click=\"login\" disabled ref=\"btnLogin\">Entrar</button>\n            </form>\n        </section>\n        <section class=\"right_side\">\n            <img src=\"\" alt=\"\">\n        </section>\n    </section>\n</template>\n\n<script>\n\n\n    import axios from 'axios';\n    import { BASE_URL, KEY } from '@/config';\n    export default{\n        name: 'Login',\n        data(){\n            return{\n                usernameValue : '',\n                tryLogin: false,\n                trying: 0,\n                passwordValue : '',\n                showPass: false,\n                inputType: 'password',\n                user: null,\n                role: null,\n                fail: false,\n                ip: '',\n                counter: 0\n            }\n        },\n        methods:{\n            validForm(){\n                \n                if (this.usernameValue !== '' && this.passwordValue !== '' ) {\n                    this.$refs.btnLogin.disabled = false\n                }\n            },\n\n            async login(){\n                let btnLogin = document.getElementById('btn-login')\n                this.tryLogin = true\n\n                if(this.trying > 3 ){\n                    if(btnLogin.disabled != true)\n                        btnLogin.disabled = true\n\n                    return\n                }\n                this.trying ++\n\n                // try{\n                //     localStorage.setItem('tentativa', this.counter + 1)\n                // }\n                // catch(error){\n                //     console.log(error)\n                // }\n\n                // try{\n                //     this.counter = localStorage.getItem('tentativa')\n                // }\n                // catch(error){\n                //     console.log(error)\n                // }\n\n                // if(this.counter > 5){\n                //     console.log('Tentativas excedidas');\n                //     return\n                // }\n\n                // if (this.usernameValue.length < 4 || this.passwordValue.length < 4 ){\n                    \n                //     return\n                // }\n\n\n// ----------------  Pegar IP ------------------------------------------------------------------------------------------------------\n                axios.get('https://api.ipify.org?format=json')\n                .then(response => {\n                    this.ip = response.data.ip\n                    console.log(response.data.ip);\n                })\n                .catch(error => {\n                    console.error(error);\n                });\n\n// --------------------------------------------------------------------------------------------------------------------------------\n                console.log('URL: ',`${BASE_URL}/login/?key=${KEY}`);\n                \n\n                try{\n                    const res = await axios.post(`${BASE_URL}/login/?key=${KEY}`,{\n                        username: this.usernameValue,\n                        password: this.passwordValue,\n                        ip: this.ip\n                    })\n                    // .then(response => console.log(response.data) )\n                    .catch(err => { \n                        if(err.message == \"Network Error\"){\n                            this.$swal.fire({\n                                position: 'top',\n                                icon: 'error',\n                                title: 'Falha no servidor, tente mais tarde!',\n                                showConfirmButton: false,\n                                timer: 1500,\n                                toast: true\n                            })\n                            return\n                        }\n                    })\n\n                    // try{}\n                    \n                    this.user = res.data.data.user\n                    this.role = res.data.data.role\n                    this.fail = false\n                    // return\n                }\n                catch(err){\n                    this.fail = true\n                    console.log('Erro no login: ',err);\n                    \n                }\n\n                \n                \n                if (!this.fail){\n                    \n\n                    try {\n                        localStorage.setItem('userData', JSON.stringify(this.user))\n                        localStorage.setItem('role', JSON.stringify(this.role))\n                    } catch (error) {\n                        console.log(error)\n                    }\n\n                this.$router.push('/')\n                }else{\n                    this.$swal.fire({\n                        position: 'top',\n                        icon: 'error',\n                        title: 'Falha na autentificação',\n                        showConfirmButton: false,\n                        timer: 1500,\n                        toast: true\n                    })\n                }\n            },\n            toogleShowPassword(){\n                this.showPass = !this.showPass\n                if (this.inputType == 'password'){\n                    this.inputType = 'text'\n                }else{\n                    this.inputType = 'password'\n                }\n            }\n        },\n        created(){\n            // axios.get('http://127.0.0.1:8000/api/v1/utilizador/?key=123')\n            // .then(res => {\n            //     this.users = res.data.data\n            // })\n\n            // .catch(err => {\n            //     console.log(err)\n            // })\n\n        }\n                \n        \n    }\n\n</script>\n\n\n<style scoped>\n   .pass{\n       overflow: hidden;\n       background-color: #fff;\n       border-radius: .5em;\n       display: flex;\n       \n    }\n    .pass .show-pass{\n        height: 100%;\n        padding: .2em;\n        font-size: 25pt;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        cursor: pointer;\n    }\n\n   .containerlogin{\n        user-select: none;\n        background-color: red;\n        display: flex;\n        justify-content: space-between;\n        /* padding-top: 5em; */\n        height: 100vh;\n        width: 100vw;\n   } \n\n   .left_side{\n        flex: .65;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        /* gap: 2em; */\n        /* justify-content: center; */\n        /* flex: .7; */\n        padding: 1em;\n        padding-top: 3em;\n\n   }\n\n    form{\n        width: 100%;\n        /* background-color: #091d92f8; */\n        display: flex;\n        flex-direction: column;\n        gap: 1em;\n        padding: 2em 5em;\n        border-radius: .5em;\n    }\n    \n    form h2{\n        color: #300101;\n        font-size: 25pt;\n        text-align: center;\n    }\n\n    form input:not(input[type=\"checkbox\"]){\n        width: 100%;\n        padding: .5em;\n        outline: none;\n        font-size: 14pt;\n    }\n\n    form button{\n        font-size: 16pt;\n        padding: .4em;\n        background-color: var(--secondary-2);\n        color: var(--primary);\n        font-weight: bold;\n        transition: .5s;\n    }\n    \n    form button:hover{\n        background-color: var(--secondary);\n        color: var(--white-1);\n    }\n    \n    form input:not(input[type=\"checkbox\"]), form button, .pass{\n        border: none;\n        border-radius: .3em;\n        box-shadow: 0px 0px .1em .1em #0003;\n    }\n\n    /* form input.inputPassword{\n        box-shadow: 0px 0px 10px 10px red;\n    } */\n    \n    section.right_side{\n        \n        background-image: url('../assets/cover-2.jpg');\n        background-size: cover;\n        flex: .4;\n        height: 100%;\n    }\n\n</style>\n\n\n","import { render } from \"./Login.vue?vue&type=template&id=659a1a96&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=659a1a96&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-659a1a96\"]])\n\nexport default __exports__"],"names":["class","style","src","alt","for","validForm","usernameValue","length","tryLogin","type","placeholder","autofocus","passwordValue","inputType","showPass","toogleShowPassword","icon","name","id","login","disabled","ref","data","trying","user","role","fail","ip","counter","methods","this","$refs","btnLogin","document","getElementById","axios","get","then","response","console","log","catch","error","res","post","username","password","err","message","$swal","fire","position","title","showConfirmButton","timer","toast","localStorage","setItem","JSON","stringify","$router","push","created","__exports__","render"],"sourceRoot":""}