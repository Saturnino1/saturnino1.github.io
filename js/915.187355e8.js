"use strict";(self["webpackChunkadmin"]=self["webpackChunkadmin"]||[]).push([[915],{1528:function(t,e,o){o.d(e,{A:function(){return u}});var a=o(641);const n=t=>((0,a.Qi)("data-v-79e46594"),t=t(),(0,a.jt)(),t),i={class:"popup-container"},s=n((()=>(0,a.Lk)("header",null,[(0,a.Lk)("h1",{style:{"text-align":"center",color:"transparent"}},"Pop Up")],-1))),r={class:"pop-main-contet"};function l(t,e,o,n,l,c){return(0,a.uX)(),(0,a.CE)("section",i,[s,(0,a.Lk)("section",r,[(0,a.RG)(t.$slots,"default",{},void 0,!0)])])}var c={data(){return{}},components:{},methods:{}},d=o(6262);const p=(0,d.A)(c,[["render",l],["__scopeId","data-v-79e46594"]]);var u=p},9915:function(t,e,o){o.r(e),o.d(e,{default:function(){return z}});var a=o(641),n=o(33),i=o(9580),s=o(8241),r=o(3751);const l={class:"form-container"},c={style:{"text-align":"center",color:"#111"}};function d(t,e,o,i,s,d){const p=(0,a.g2)("Icon");return(0,a.uX)(),(0,a.CE)("section",l,[(0,a.Lk)("header",null,[(0,a.bF)(p,{onClick:d.closePop,icon:"carbon:close-filled",class:"close-icon"},null,8,["onClick"])]),(0,a.Lk)("h2",c,(0,n.v_)(t.$props.propsData.title),1),(0,a.Lk)("form",{onSubmit:e[5]||(e[5]=(0,r.D$)((()=>{}),["prevent"]))},[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>s.nameField=t),type:"text",name:"",id:"nome",placeholder:"Nome..."},null,512),[[r.Jo,s.nameField]]),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>s.emailField=t),type:"text",name:"",id:"email",placeholder:"Email..."},null,512),[[r.Jo,s.emailField]]),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>s.phoneField=t),type:"number",name:"",id:"password",placeholder:"Telefones..."},null,512),[[r.Jo,s.phoneField]]),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>s.addressField=t),type:"text",name:"",id:"password",placeholder:"Endereço..."},null,512),[[r.Jo,s.addressField]]),(0,a.Lk)("button",{onClick:e[4]||(e[4]=t=>d.submitForm(o.propsData.action)),type:"button"},(0,n.v_)(o.propsData.action??"---"),1)],32)])}var p=o(1250),u=o(8384),m={name:"FuncionarioForm",components:{},data(){return{nameField:this.propsData.data.nome??"",emailField:this.propsData.data.email??"",phoneField:this.propsData.data.telefone??"",addressField:this.propsData.data.endereco??"",userField:this.propsData.data.user??""}},methods:{closePop(){this.$store.state.popUp.show=!1},async RegisterCliente(){console.log(this.formData);try{return p.A.post(`${u.C}/cliente/registrar/?key=${u._}`,this.formData).catch((t=>{this.$swal.fire({position:"top",icon:"warning",title:"Campo obrigatorio imcompleto",showConfirmButton:!1,timer:5e3,toast:!0})})),!0}catch(t){return!1}},async UpdateCliente(t){try{return p.A.put(`${u.C}/cliente/${t}/atualizar/?key=${u._}`,this.formData).catch((t=>{this.$swal.fire({position:"top",icon:"warning",title:"Campo obrigatorio imcompleto",showConfirmButton:!1,timer:5e3,toast:!0})})),!0}catch(e){return console.log("Error: ",e),!1}},async submitForm(t=null){"editar"===t?1==await this.UpdateCliente(this.propsData.data.id)?(this.$store.state.emiter=!this.$store.state.emiter,this.$swal.fire({position:"top",icon:"success",title:"Editado com sucesso",showConfirmButton:!1,timer:2e3,toast:!0}),console.log("Formdata: ",this.formData)):this.$swal({title:"Error!",text:"Falha ao fazer edição",icon:"error",confirmButtonText:"OK",timer:3e3,showCancelButton:!1,cancelButtonText:"Cancelar",reverseButtons:!1}):1==await this.RegisterCliente()?(this.$store.state.emiter=!this.$store.state.emiter,this.$swal.fire({position:"top",icon:"success",title:"Registrado com sucesso",showConfirmButton:!1,timer:1500,toast:!0})):this.$swal({title:"Error!",text:"Falha ao fazer registro",icon:"error",confirmButtonText:"OK",timer:3e3,showCancelButton:!1,cancelButtonText:"Cancelar",reverseButtons:!1})}},props:{propsData:Object},computed:{formData(){return{nome:this.nameField,email:this.emailField,telefone:this.phoneField,endereco:this.addressField}}},created(){console.log(this.propsData)},errorCaptured(t,e,o){return this.$swal({title:"Erro!",text:"Ocorreu um erro ao renderizar a view: "+t.toString(),icon:"error",confirmButtonText:"OK"}),!1}},h=o(6262);const k=(0,h.A)(m,[["render",d],["__scopeId","data-v-731e1bdc"]]);var C=k,f=o(1528),g=o(6278);const w={class:"right-side"},F={class:"main-content"},L=(0,a.Lk)("header",{class:"crud-title"},[(0,a.Lk)("h2",null,"Clientes")],-1),$={class:"table-container",style:{width:"100%"}},b={class:"options-crud"},B={class:"table-1"},v=(0,a.Lk)("th",null,"id",-1),D=(0,a.Lk)("th",null,"nome",-1),x=(0,a.Lk)("th",null,"email",-1),y=(0,a.Lk)("th",null,"telefone",-1),A=(0,a.Lk)("th",null,"Endereço",-1),E={key:0},_={class:"btn-form-row"},U=["onClick"],T=["onClick"],O={key:0},R=(0,a.Lk)("td",{style:{"text-align":"center",padding:"1em",opacity:".8"},colspan:"8"}," Sem registros ",-1),K=[R],X={components:{ClienteForm:C,popUp:f.A},data(){return{status:0,clientes:[],propsData:{title:"",data:{},action:""}}},methods:{getAllClientes(){p.A.get(`${u.C}/cliente/?key=${u._}`).then((t=>{this.clientes=t.data.data,this.status=t.status})).catch((t=>{console.log(t.response.data.message),this.$swal({title:"Error!",text:"Falha ao listar cliente",icon:"error",confirmButtonText:"OK",timer:3e3,showCancelButton:!1,cancelButtonText:"Cancelar",reverseButtons:!1})}))},openPopUp(t={},e="editar"){console.log("Opeeen"),"editar"===e?(this.propsData.title="Editar Funcionários",this.propsData.data=t,this.propsData.action="editar"):(this.propsData.title=e+" Funcionários",this.propsData.data={},this.propsData.action=e),this.$store.state.popUp={...this.$store.state.popUp,show:!0,title:"Editar Funcionários"}},deleteRegister(t){this.$swal({title:"Tem certeza?",text:"Você não poderá reverter isso!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Sim, deletar!",cancelButtonText:"Cancelar"}).then((e=>{if(e.isConfirmed)try{p.A.delete(`${u.C}/cliente/${t}/deletar/?key=${u._}`,this.formData).catch((t=>{this.$swal.fire({position:"top",icon:"warning",title:"Algo deu errado!",showConfirmButton:!1,timer:5e3,toast:!0})})),this.$store.state.emiter=!this.$store.state.emiter,this.$swal({title:"Deletado!",text:"Seu registro foi deletado.",icon:"success",confirmButtonText:"OK",timer:3e3,showCancelButton:!1,cancelButtonText:"Cancelar",reverseButtons:!1})}catch(o){this.$swal.fire({position:"top",icon:"warning",title:"Falha ao eliminar registro!",showConfirmButton:!1,timer:5e3,toast:!0})}}))}},created(){this.getAllClientes()},computed:{...(0,g.aH)(["emiter"])},watch:{emiter(t,e){this.getAllClientes()}}};var N=Object.assign(X,{__name:"Cliente",setup(t){return(t,e)=>{const o=(0,a.g2)("Icon");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(i.A),(0,a.Lk)("section",w,[(0,a.bF)(s.A),(0,a.Lk)("section",F,[L,(0,a.Lk)("section",$,[(0,a.Lk)("section",b,[(0,a.Lk)("button",{onClick:e[0]||(e[0]=e=>t.openPopUp(null,"Registrar")),class:"criar-btn"},"Registrar")]),(0,a.Lk)("table",B,[(0,a.Lk)("thead",null,[(0,a.Lk)("tr",null,[v,D,x,y,A,((0,a.uX)(),(0,a.CE)("th",E,"ações"))])]),(0,a.Lk)("tbody",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.clientes,(e=>((0,a.uX)(),(0,a.CE)("tr",null,[(0,a.Lk)("td",null,(0,n.v_)(e?.id??"N/A"),1),(0,a.Lk)("td",null,(0,n.v_)(e?.nome??"N/A"),1),(0,a.Lk)("td",null,(0,n.v_)(e?.email??"N/A"),1),(0,a.Lk)("td",null,(0,n.v_)(e?.telefone??"N/A"),1),(0,a.Lk)("td",null,(0,n.v_)(e?.endereco??"N/A"),1),(0,a.Lk)("td",null,[(0,a.Lk)("div",_,[(0,a.Lk)("button",{onClick:o=>t.openPopUp(e??{}),title:"editar"},[(0,a.bF)(o,{class:"edit icon",icon:"raphael:edit"})],8,U),(0,a.Lk)("button",{title:"eliminar",onClick:o=>t.deleteRegister(e.id)},[(0,a.bF)(o,{class:"delete icon",icon:"ic:round-delete"})],8,T)])])])))),256)),208===t.status?((0,a.uX)(),(0,a.CE)("tr",O,K)):(0,a.Q3)("",!0)])])])]),(0,a.Q3)("",!0)])],64)}}});const P=N;var z=P}}]);
//# sourceMappingURL=915.187355e8.js.map